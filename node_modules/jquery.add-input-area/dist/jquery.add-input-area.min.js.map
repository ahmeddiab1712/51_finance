{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/fn_addInputArea.js","webpack:///./src/methods.js","webpack:///./src/index.js","webpack:///./src/addInputArea.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","methods","_setOption","option","id","$","extend","btn_del","btn_add","area_var","area_del","after_add","clone_event","maximum","_setDelBtnVisibility","this","elem","find","length","hide","_ehAddBtn","_addNewArea","show","idxNewArea","newArea","original","clone","_renumberFieldEach","self","each","_initFieldVal","end","appendTo","obj","attr","checked","prop","val","_ehDelBtn","ev","preventDefault","idx","index","target","eq","remove","_renumberFieldAll","_getValOfAttr","type","customFormat","newVal","test","replace","fn","addInputArea","document","on"],"mappings":"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","file":"jquery.add-input-area.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * @function external:jQuery.prototype.addInputArea\n * @arg {Object}   [option]                      - Options user sent.\n * @arg {string}   [option.area_var='.(id)_var'] - CSS class selector for wrapper of form fields.\n * @arg {string}   [option.btn_add='.(id)_add']  - CSS class selector for add button.\n * @arg {string}   [option.btn_del='.(id)_del']  - CSS class selector for delete button.\n * @arg {string}   [option.area_del=(btn_del)]   - CSS class selector for wrapper of delete button.\n * @arg {Function} [option.after_add=null]       - A callback function to be called after adding.\n * @arg {boolean}  [option.clone_event=true]     - If event will be copied or not.\n * @arg {number}   [option.maximum=0]            - Max number of wrapper of form fields. \"0\" means unlimited.\n * @return {Object} jQuery object for method chaining.\n */\n/*global $*/\nexport default function (option) {\n  return this.each(function() {\n    new $.addInputArea(this, option);\n  });\n}","/*global $*/\n/** @lends external:jQuery.addInputArea.prototype */\nexport default {\n  /**\n   * Initialize option\n   * @private\n   * @arg {Object} option - Options user sent.\n   * @arg {string} id     - Id attribute of \"this.elem\".\n   * @return {Object} initialized options.\n   */\n  _setOption: function(option, id) {\n    option =  $.extend({\n      btn_del:   (id) ? '.' + id + '_del' : '.aia_del',\n      btn_add:   (id) ? '.' + id + '_add' : '.aia_add',\n      area_var:  (id) ? '.' + id + '_var' : '.aia_var',\n      area_del: null,\n      after_add: null,\n      clone_event: true,\n      maximum: 0\n    }, option);\n    if (!option.area_del) {\n      option.area_del = option.btn_del;\n    }\n    return option;\n  },\n\n  /**\n   * If the wrapper is single, del-button is not displayed.\n   * @private\n   */\n  _setDelBtnVisibility: function() {\n    if ($(this.elem).find(this.option.area_var).length == 1) {\n      $(this.elem).find(this.option.area_del).hide();\n    }\n  },\n\n  /**\n   * Handler for clicking add-button.\n   * @private\n   */\n  _ehAddBtn: function() {\n    // Add new wrapper.\n    this._addNewArea();\n\n    // Display del-button as it is sure that the number of the wrapper will be more than 2.\n    $(this.elem).find(this.option.area_del).show();\n\n    // Hide add-button if the number of the wrapper reaches max number.\n    if (\n      this.option.maximum > 0 &&\n      $(this.elem).find(this.option.area_var).length >= this.option.maximum\n    ) {\n      $(this.option.btn_add).hide();\n    }\n\n    // Run \"after_add\" function.\n    if (typeof this.option.after_add == 'function') {\n      this.option.after_add();\n    }\n  },\n\n  /**\n   * Add new wrapper.\n   * @private\n   */\n  _addNewArea: function() {\n    var idxNewArea = $(this.elem).find(this.option.area_var).length;\n    var newArea = $(this.option.original).clone(true);\n\n    // Renumber \"id\", \"name\" and \"for\" attribute of single field.\n    this._renumberFieldEach(idxNewArea, newArea);\n\n    var self = this;\n    $(newArea)\n      // Empty value of form field.\n      .find('[name]').each(function() {\n        self._initFieldVal.call(self, this);\n      }).end()\n      // Add to DOM.\n      .appendTo(this.elem);\n  },\n\n  /**\n   * Empty value of form field.\n   * @private\n   * @arg {Object} obj - Single form field.\n   * @return {boolean} If init succeeded or not.\n   */\n  _initFieldVal: function(obj) {\n    // NOTE: empty_val is deprecated (since v4.9.0)\n    if ($(obj).attr('empty_val') == 'false' ||\n        $(obj).attr('data-empty-val') == 'false') {\n      return false;\n    }\n    if ($(obj).attr('type') == 'checkbox' ||\n        $(obj).attr('type') == 'radio') {\n      obj.checked = false;\n    } else if ($(obj).prop('tagName') != 'SELECT' &&\n               $(obj).attr('type') != 'submit' &&\n               $(obj).attr('type') != 'reset'  &&\n               $(obj).attr('type') != 'image'  &&\n               $(obj).attr('type') != 'button') {\n      $(obj).val('');\n    }\n    return true;\n  },\n\n  /**\n   * Handler for clicking of del-button.\n   * @private\n   * @arg {Object} ev - Event object.\n   */\n  _ehDelBtn: function(ev) {\n    ev.preventDefault();\n\n    // Delete the wrapper\n    var idx = $(this.elem).find(this.option.btn_del).index(ev.target);\n    $(this.elem).find(this.option.area_var).eq(idx).remove();\n\n    // If the wrapper is single, del-button is not displayed.\n    this._setDelBtnVisibility();\n\n    // Renumber \"id\", \"name\" and \"for\" attribute of all fields in the wrapper.\n    this._renumberFieldAll();\n\n    // Show add-button if the number of the wrapper does not reach max number.\n    if (this.option.maximum > 0 &&\n        $(this.elem).find(this.option.area_var).length < this.option.maximum) {\n      $(this.option.btn_add).show();\n    }\n  },\n\n  /**\n   * Renumber \"id\", \"name\" and \"for\" attribute of all fields in the wrapper.\n   * @private\n   */\n  _renumberFieldAll: function() {\n    var self = this;\n    $(this.elem).find(this.option.area_var).each(function(idx, obj) {\n      self._renumberFieldEach.call(self, idx, obj);\n    });\n  },\n\n  /**\n   * Renumber \"id\", \"name\" and \"for\" attribute of single field.\n   * @private\n   * @arg {number} idx - Index of the wrapper.\n   * @arg {Object} obj - HTML Element of the wrapper.\n   */\n  _renumberFieldEach: function(idx, obj) {\n    var self = this;\n    $(obj)\n      // Rename \"name\" and \"id\" attribute.\n      .find('[name]').each(function() {\n        $(this).attr('name', self._getValOfAttr(this, idx, 'name'));\n        $(this).attr('id',   self._getValOfAttr(this, idx, 'id'));\n      }).end()\n      // Rename \"for\" attribute.\n      .find('[for]').each(function() {\n        $(this).attr('for', self._getValOfAttr(this, idx, 'for'));\n      });\n  },\n\n  /**\n   * Return the renumbered value of \"id\", \"name\" or \"for\" attribute.\n   * @private\n   * @arg {Object} obj - Single form field.\n   * @arg {number} idx - The number for renumbering.\n   * @arg {string} type - Attribute name. (id, name, for)\n   * @return {boolean|string} The renumbered value, or \"false\" to notify failed.\n   */\n  _getValOfAttr: function(obj, idx, type) {\n    var newVal = false;\n    // If the default naming convention.\n    if (/^.+_\\d+$/.test($(obj).attr(type))) {\n      newVal =  $(obj).attr(type).replace(/^(.+_)\\d+$/, '$1' + idx);\n    }\n    // If user's own rule.\n    else {\n      // NOTE: name_format and id_format are deprecated (since v4.9.0)\n      var customFormat;\n      if (type == 'name') {\n        customFormat = $(obj).attr('name_format') || $(obj).attr('data-name-format');\n      } else { // id, for\n        customFormat = $(obj).attr('id_format') || $(obj).attr('data-id-format');\n      }\n      if (customFormat) {\n        newVal = customFormat.replace('%d', idx);\n      }\n    }\n    return newVal;\n  }\n};","/**\n * @file jquery.add-input-area\n * @version 4.9.4\n * @author Yuusaku Miyazaki <toumin.m7@gmail.com>\n * @license MIT\n */\nimport fn_addInputArea from './fn_addInputArea';\nimport addInputArea    from './addInputArea';\nimport methods         from './methods';\n\n/*global $*/\n/** @external jQuery */\n$.fn.addInputArea = fn_addInputArea;\n$.addInputArea    = addInputArea;\n$.extend($.addInputArea.prototype, methods);","/**\n * @class external:jQuery.addInputArea\n * @arg  {Object} elem   - HTML element which applied this plugin.\n * @arg  {Object} option - Options user sent.\n * @prop {Object} elem   - HTML element which applied this plugin.\n * @prop {Object} option - initialized options.\n */\n/*global $*/\nexport default function (elem, option) {\n  this.elem = elem;\n  this.option = this._setOption(option, $(this.elem).attr('id'));\n  this._setDelBtnVisibility();\n\n  var self = this;\n  $(document).on('click', this.option.btn_add, function() {\n    self._ehAddBtn.call(self);\n  });\n  $(self.elem).on('click', self.option.btn_del, function(ev) {\n    self._ehDelBtn.call(self, ev);\n  });\n\n  this._renumberFieldAll();\n\n  // Save original\n  this.option.original = $(this.elem).find(this.option.area_var).eq(0).clone(this.option.clone_event);\n}"],"sourceRoot":""}